{"version":3,"file":"static/js/673.dbdbf68a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","pages/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__mp42q\",\"moviesList\":\"Movies_moviesList__Un-WS\",\"moviesListItem\":\"Movies_moviesListItem__JsqIj\",\"moviesListItemLink\":\"Movies_moviesListItemLink__30tmD\",\"moviesListItemTitle\":\"Movies_moviesListItemTitle__VMPQT\",\"moviesListItemImage\":\"Movies_moviesListItemImage__Hx9kb\"};","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const location = useLocation();\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      // delete movies array by clicking on movies button\n      setMovies(null);\n      return;\n    }\n    getMovies(query);\n  }, [query]);\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n\n    const query = e.currentTarget.elements.searchKey.value;\n    setSearchParams({ query });\n\n    getMovies(query);\n    e.currentTarget.elements.searchKey.value = '';\n  };\n\n  const getMovies = async query => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      const { data } = await axios({\n        method: 'get',\n        url: `https://api.themoviedb.org/3/search/movie?api_key=8dcc6c3444f0b089c2f82be63d0dc0e1&query=${query}&language=en-US`,\n      });\n      setMovies(data.results);\n    } catch (error) {\n      setError(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className={css.movieSearch}>\n      <form onSubmit={handleFormSubmit} className={css.form}>\n        <input type=\"text\" name=\"searchKey\" placeholder=\"Search\" required />\n        <button type=\"submit\">Search</button>\n      </form>\n      {error !== null && <p>{error}</p>}\n      {isLoading && <p>Loading...</p>}\n      {movies !== null && !isLoading && (\n        <ul className={css.moviesList}>\n          {movies.map(movie => (\n            <li key={movie.id} className={css.moviesListList}>\n              <Link\n                state={{ from: location }}\n                to={`/movies/${movie.id}`}\n                className={css.moviesListItemLink}\n              >\n                <img\n                  src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n                  alt={movie.title}\n                  className={css.moviesListItemImage}\n                />\n                <p className={css.moviesListItemTitle}>{movie.title}</p>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      {movies?.length === 0 && !isLoading && <p>No movies found for {query}</p>}\n    </div>\n  );\n};\n\nexport default Movies;\n","import Movies from 'components/Movies/Movies';\n\nconst MoviesPage = () => {\n  return <Movies />;\n};\n\nexport default MoviesPage;\n"],"names":["_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","_useState","useState","_useState2","movies","setMovies","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","location","useLocation","query","get","useEffect","getMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios","data","_context","prev","next","axios","method","url","concat","sent","results","t0","message","finish","stop","_x","apply","arguments","_jsxs","className","css","children","onSubmit","e","preventDefault","currentTarget","elements","searchKey","value","_jsx","type","name","placeholder","required","map","movie","Link","state","from","to","id","src","poster_path","alt","title","length","Movies"],"sourceRoot":""}