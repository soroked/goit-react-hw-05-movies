"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[673],{673:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var i=s(861),r=s(439),n=s(757),a=s.n(n),c=s(340),o=s(791),m=s(87),l=s(689),u={form:"Movies_form__mp42q",moviesList:"Movies_moviesList__Un-WS",moviesListItem:"Movies_moviesListItem__JsqIj",moviesListItemLink:"Movies_moviesListItemLink__30tmD",moviesListItemTitle:"Movies_moviesListItemTitle__VMPQT",moviesListItemImage:"Movies_moviesListItemImage__Hx9kb"},v=s(184),h=function(){var e=(0,m.lr)(),t=(0,r.Z)(e,2),s=t[0],n=t[1],h=(0,o.useState)(null),p=(0,r.Z)(h,2),d=p[0],f=p[1],_=(0,o.useState)(!1),L=(0,r.Z)(_,2),x=L[0],g=L[1],I=(0,o.useState)(null),j=(0,r.Z)(I,2),k=j[0],b=j[1],y=(0,l.TH)(),S=s.get("query");(0,o.useEffect)((function(){S?N(S):f(null)}),[S]);var N=function(){var e=(0,i.Z)(a().mark((function e(t){var s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),b(null),e.next=5,(0,c.Z)({method:"get",url:"https://api.themoviedb.org/3/search/movie?api_key=8dcc6c3444f0b089c2f82be63d0dc0e1&query=".concat(t,"&language=en-US")});case 5:s=e.sent,i=s.data,f(i.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),b(e.t0.message);case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{className:u.movieSearch,children:[(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.searchKey.value;n({query:t}),N(t),e.currentTarget.elements.searchKey.value=""},className:u.form,children:[(0,v.jsx)("input",{type:"text",name:"searchKey",placeholder:"Search",required:!0}),(0,v.jsx)("button",{type:"submit",children:"Search"})]}),null!==k&&(0,v.jsx)("p",{children:k}),x&&(0,v.jsx)("p",{children:"Loading..."}),null!==d&&!x&&(0,v.jsx)("ul",{className:u.moviesList,children:d.map((function(e){return(0,v.jsx)("li",{className:u.moviesListList,children:(0,v.jsxs)(m.rU,{state:{from:y},to:"/movies/".concat(e.id),className:u.moviesListItemLink,children:[(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.poster_path),alt:e.title,className:u.moviesListItemImage}),(0,v.jsx)("p",{className:u.moviesListItemTitle,children:e.title})]})},e.id)}))}),0===(null===d||void 0===d?void 0:d.length)&&!x&&(0,v.jsxs)("p",{children:["No movies found for ",S]})]})},p=function(){return(0,v.jsx)(h,{})}}}]);
//# sourceMappingURL=673.dbdbf68a.chunk.js.map